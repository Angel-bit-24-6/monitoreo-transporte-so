# ==========================================
# MODO: PRODUCCIÓN
# ==========================================
# Este archivo está preconfigurado para producción
# Tokens de 30 días con renovación a los 23 días
#
# Para activar este modo:
# cp .env.production .env
# ==========================================

# Database Configuration
DATABASE_URL=postgresql://app_user:your_password@localhost:5432/transporte_db
DB_HOST=localhost
DB_PORT=5432
DB_NAME=transporte_db
DB_USER=app_user
DB_PASSWORD=your_password
DB_MIN_POOL_SIZE=10
DB_MAX_POOL_SIZE=50

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
LOG_LEVEL=INFO
DEBUG=False

# ==========================================
# TOKEN CONFIGURATION - PRODUCTION MODE
# ==========================================

# Duración del token: 30 días (2,592,000 segundos)
# Cálculo: 30 días × 24 horas × 60 minutos × 60 segundos
TOKEN_TTL_SECONDS=2592000

# Renovar cuando falten: 7 días (10,080 minutos)
# Cálculo: 7 días × 24 horas × 60 minutos
TOKEN_RENEWAL_THRESHOLD_MINUTES=10080

# Periodo de gracia: 7 días
# Durante este tiempo, token viejo y nuevo coexisten
TOKEN_GRACE_PERIOD_DAYS=7

# Limpieza de tokens antiguos
CLEANUP_TOKEN_DAYS=30

# Intervalo de verificación: cada 3600 segundos (1 hora)
# Optimizado para producción: reduce queries de 43,200 a 720 por periodo
TOKEN_RENEWAL_CHECK_INTERVAL_SECONDS=3600

# ==========================================
# TIMELINE ESPERADO (30 días):
# - Día 0:  Token creado
# - Día 23: Renovación automática (faltan 7 días)
# - Día 30: Token original expira
# - Día 23-30: Periodo de gracia (ambos tokens válidos)
# - Verificaciones: cada 1 hora (720 verificaciones totales)
# ==========================================

# CORS Configuration
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30
WS_TIMEOUT=300

# Sistema Config
OUT_OF_ROUTE_THRESHOLD_M=200
STOP_SPEED_THRESHOLD=1.5
STOP_TIME_THRESHOLD_S=120
