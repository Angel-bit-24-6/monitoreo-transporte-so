# ==========================================
# MODO: TESTING
# ==========================================
# Este archivo está preconfigurado para pruebas rápidas
# Tokens de 10 minutos con renovación a los 3 minutos
#
# Para activar este modo:
# cp .env.testing .env
# ==========================================

# Database Configuration
DATABASE_URL=postgresql://app_user:your_password@localhost:5432/transporte_db
DB_HOST=localhost
DB_PORT=5432
DB_NAME=transporte_db
DB_USER=app_user
DB_PASSWORD=your_password
DB_MIN_POOL_SIZE=10
DB_MAX_POOL_SIZE=50

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
LOG_LEVEL=INFO
DEBUG=False

# ==========================================
# TOKEN CONFIGURATION - TESTING MODE
# ==========================================

# Duración del token: 10 minutos (600 segundos)
TOKEN_TTL_SECONDS=600

# Renovar cuando falten: 7 minutos
TOKEN_RENEWAL_THRESHOLD_MINUTES=7

# Periodo de gracia: 7 días (mismo que producción)
TOKEN_GRACE_PERIOD_DAYS=7

# Limpieza de tokens antiguos
CLEANUP_TOKEN_DAYS=30

# Intervalo de verificación: cada 60 segundos (1 minuto)
# Permite detectar rápidamente cuándo renovar en modo testing
TOKEN_RENEWAL_CHECK_INTERVAL_SECONDS=60

# ==========================================
# TIMELINE ESPERADO (10 minutos):
# - Minuto 0:  Token creado
# - Minuto 3:  Renovación automática (faltan 7 min)
# - Minuto 10: Token original expira
# - Verificaciones: cada 60 segundos (10 verificaciones totales)
# ==========================================

# CORS Configuration
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# WebSocket Configuration
WS_HEARTBEAT_INTERVAL=30
WS_TIMEOUT=300

# Sistema Config
OUT_OF_ROUTE_THRESHOLD_M=200
STOP_SPEED_THRESHOLD=1.5
STOP_TIME_THRESHOLD_S=120
